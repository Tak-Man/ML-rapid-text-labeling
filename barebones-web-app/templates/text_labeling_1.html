<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rapid Text Labeling (Format 1)</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='text_labeling_1_style.css') }}" media="all">
    <script>
        function which_label_selected() {
            document.getElementById("labelMessage").innerHTML = "Something was clicked.";
            var selections = document.getElementsByName("assigned_label");

            for(var x = 0; x< selections.length; x++) {
                if(selections[x].checked == true) {
                    var selected_label = selections[x].value;
                }
              }
            document.getElementById("labelMessage").innerHTML = selected_label;
            document.getElementById("selected_label_single").setAttribute("value", selected_label);
            document.getElementById("selected_label_group1").setAttribute("value", selected_label);
            document.getElementById("group1Button").setAttribute("value", "Label Group '" + selected_label + "'");
            document.getElementById("group2Button").setAttribute("value", "Label Group '" + selected_label + "'");
        }
    </script>
</head>
<body>
    <div class="container">
        <div id="divHeader">
            <h1>Rapid Labeling of Text Corpora Using Machine-Learning</h1>
        </div>
        <div id="divBodyLeft"></div>
        <div id="gridTop0">
            <h2>Label</h2>
            <div id="labelRadioSelection">
                <form action="{{ url_for('single_text') }}" method="POST">
                    <br/>
                    <input type="radio" id="category1" name="assigned_label" value="Earthquake" onclick="which_label_selected()">
                    <label for="category1">Earthquake</label><br/>
                    <input type="radio" id="category2" name="assigned_label" value="Fire" onclick="which_label_selected()">
                    <label for="category2">Fire</label><br/>
                    <input type="radio" id="category3" name="assigned_label" value="Flood" onclick="which_label_selected()">
                    <label for="category3">Flood</label><br/>
                    <input type="radio" id="category4" name="assigned_label" value="Hurricane" onclick="which_label_selected()">
                    <label for="category4">Hurricane</label><br/>
                    <br/>
                    <input name="selected_text_id" type="hidden" value="{{ selected_text_id }}">
                    <input name="selected_text" type="hidden" value="{{ selected_text }}">
                    <input name="page_number" type="hidden" value="{{ page_number }}">
<!--                    <input id="labelButton" type="submit" value="Label">-->

                    <div id="labelMessage"><p>{{ info_message }}</p></div>
                </form>
            </div>
            <div id="labelAddCategory"></div>

        </div>
        <div id="gridTop1">
            <h2>Current Text</h2>
            <form id="currentText" action="{{ url_for('single_text') }}" method="POST">
                <!--<div>{{ selected_text_id }}</div>-->
                <div id="currentTextBody"><br/><p>{{ selected_text }}</p></div>
                <div id="divLabelButtonSingle">
                    <input name="selected_text_id" type="hidden" value="{{ selected_text_id }}">
                    <input name="selected_text" type="hidden" value="{{ selected_text }}">
                    <input name="page_number" type="hidden" value="{{ page_number }}">
                    <input id="selected_label_single" name="selected_label_single" type="hidden" value="">
                    <input id="labelButtonSingle" type="submit" value="Label">
                </div>
            </form>
        </div>
        <div id="gridTop2">
            <h2>Similar Texts</h2>
            <div id="similarTexts1">
                <div id="recommendedText1">
                    <form id="recommendedTextBody1" action="{{ url_for('grouped_texts') }}" method="POST">
                        <div id="divGroup1Table">
                            <table id="group1Table" class="fixed_headers">
                                <thead>
                                    <tr>
                                        <th>Text ID</th>
                                        <th>Text</th>
                                        <th>Label</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% if texts_group_1 is defined and texts_group_1|length > 0 %}
                                    {% for text_group_record in texts_group_1 %}
                                    <tr>
                                        <td>
                                            <a methods="POST">
                                                {{ text_group_record['id'] }}
                                            </a>

                                        </td>
                                        <td>{{ text_group_record['text'] }}</td>
                                        <td>{{ text_group_record['label'] }}</td>
                                    </tr>


                                    {% endfor %}
                                {% else %}

                                    <tr>
                                        <td>
                                            <a methods="POST">
                                                0000000000000000
                                            </a>

                                        </td>
                                        <td>"Select a text to label."</td>
                                        <td>"-"</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <a methods="POST">
                                                0000000000000000
                                            </a>

                                        </td>

                                        <td>"Select a text to label."</td>
                                        <td>"-"</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <a methods="POST">
                                                0000000000000000
                                            </a>
                                        </td>
                                        <td>"Select a text to label."</td>
                                        <td>"-"</td>
                                    </tr>
                                {% endif %}
                                </tbody>
                             </table></br>
                        </div>
<!--                        <br/>-->
<!--                        <div id="recommendedText1RadioSelection">-->
<!--                            <input type="radio" id="category1_group" name="assigned_label_group" value="Earthquake">-->
<!--                            <label for="category1">Earthquake</label><br/>-->
<!--                            <input type="radio" id="category2_group" name="assigned_label_group" value="Fire">-->
<!--                            <label for="category2">Fire</label><br/>-->
<!--                            <input type="radio" id="category3_group" name="assigned_label_group" value="Flood">-->
<!--                            <label for="category3">Flood</label><br/>-->
<!--                            <input type="radio" id="category4_group" name="assigned_label_group" value="Hurricane">-->
<!--                            <label for="category4">Hurricane</label>-->
<!--                        </div>-->
<!--                        <br/>-->
                        <div id="divGroup1Button">
                            <input name="texts_group_1" type="hidden" value="{{ texts_group_1 }}">
                            <input name="texts_list" type="hidden" value="{{ texts_list }}">
                            <input name="selected_text_id" type="hidden" value="{{ selected_text_id }}">
                            <input name="selected_text" type="hidden" value="{{ selected_text }}">
                            <input name="page_number" type="hidden" value="{{ page_number }}">
                            <input id="selected_label_group1" name="selected_label_group1" type="hidden" value="">
                            <input id="group1Button" type="submit" value="Label Group">
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div id="gridTop3">
            <h2>Similar Texts</h2>
            <div id="similarTexts2">
                <div id="recommendedText2">
                    <form id="recommendedTextBody2" action="{{ url_for('grouped_texts') }}" method="POST">
                        <div id="divGroup2Table">
                            <table id="group2Table" class="fixed_headers">
                                <thead>
                                    <tr>
                                        <th>Text ID</th>
                                        <th>Text</th>
                                        <th>Label</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% if texts_group_2 is defined and texts_group_2|length > 0 %}
                                    {% for text_group_record in texts_group_2 %}
                                    <tr>
                                        <td>
                                            <a methods="POST">
                                                {{ text_group_record['id'] }}
                                            </a>

                                        </td>
                                        <td>{{ text_group_record['text'] }}</td>
                                        <td>{{ text_group_record['label'] }}</td>
                                    </tr>


                                    {% endfor %}
                                {% else %}

                                    <tr>
                                        <td>
                                            <a methods="POST">
                                                0000000000000000
                                            </a>

                                        </td>
                                        <td>"Select a text to label."</td>
                                        <td>"-"</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <a methods="POST">
                                                0000000000000000
                                            </a>

                                        </td>

                                        <td>"Select a text to label."</td>
                                        <td>"-"</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <a methods="POST">
                                                0000000000000000
                                            </a>
                                        </td>
                                        <td>"Select a text to label."</td>
                                        <td>"-"</td>
                                    </tr>
                                {% endif %}
                                </tbody>
                             </table></br>
                        </div>
                        <div id="divGroup2Button">
                            <input name="texts_group_2" type="hidden" value="{{ texts_group_2 }}">
                            <input name="texts_list" type="hidden" value="{{ texts_list }}">
                            <input name="selected_text_id" type="hidden" value="{{ selected_text_id }}">
                            <input name="selected_text" type="hidden" value="{{ selected_text }}">
                            <input name="page_number" type="hidden" value="{{ page_number }}">
                            <input id="selected_label_group2" name="selected_label_group2" type="hidden" value="">
                            <input id="group2Button" type="submit" value="Label Group">
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div id="gridBottomLeft">
            <div id="allTexts">All Texts<br/></div>
            <div id="allTextTableNextButtons">
                <a href="{{ url_for('go_to_page',
                                     page_number=0) }}" method="POST">first
                    <input name="page_number" type="hidden" value=0>
                </a>
                {% if page_number > 0 %}
                    <a href="{{ url_for('go_to_page',
                                         page_number=page_number - 1) }}" method="POST">&laquo;
                        <input name="page_number" type="hidden" value={{ page_number - 1}}>
                    </a>
                {% else %}
                    <a href="#">&laquo;</a>
                {% endif %}
                <a href="#">{{ page_number + 1}}</a>
                <a href="#">of </a>
                <a href="#">{{ total_pages }}</a>
                {% if page_number < (total_pages - 1) %}
                    <a href="{{ url_for('go_to_page',
                                         page_number=page_number + 1) }}" method="POST">&raquo;
                        <input name="page_number" type="hidden" value={{ page_number + 1}}>
                    </a>
                {% else %}
                    <a href="#">&raquo;</a>
                {% endif %}
                <a  href="{{ url_for('go_to_page',
                                     page_number=total_pages - 1) }}" method="POST">last
                    <input name="page_number" type="hidden" value={{ total_pages - 1 }}>
                </a>
            </div>

            <div id="divAllTextsTable">
                <table id="allTextsTable" class="fixed_headers">
                    <thead>
                        <tr>
                            <th>Text ID</th>
                            <th>Text</th>
                            <th>Label</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% if texts_list %}
                    {% for text_record in texts_list %}
                        <tr>
                            <td>
                                <a methods="POST"
                                   href="{{ url_for('text_labeling',
                                                    selected_text_id=text_record['id'],
                                                    selected_text=text_record['text'],
                                                    info_message='',
                                                    page_number=page_number,
                                                    texts_list=texts_list,
                                                    texts_group_1=texts_group_1,
                                                    texts_group_2=[]) }}">
                                    <input name="page_number" type="hidden" value="{{ page_number }}">
                                    {{ text_record['id'] }}
                                </a>

                            </td>
                            <td>{{ text_record['text'] }}</td>
                            <td>{{ text_record['label'] }}</td>
                        </tr>


                        {% endfor %}
                    {% else %}

                        <tr>
                            <td>
                                <a methods="POST"
                                   href="{{ url_for('text_labeling',
                                                    selected_text_id='12547885616465',
                                                    selected_text='The quick brown fox jumped over the lazy dog.') }}">
                                    12547885616465
                                </a>

                            </td>
                            <td>"The quick brown fox jumped over the lazy dog."</td>
                            <td>"-"</td>
                        </tr>
                        <tr>
                            <td>
                                <a methods="POST"
                                   href="{{ url_for('text_labeling',
                                                    selected_text_id='0047885616465',
                                                    selected_text='It was the best of times, it was the worst of times,
                                                                   it was the age of wisdom,
                                                                   it was the age of foolishness, it was the epoch of belief,
                                                                   it was the epoch of
                                                                   incredulity, it was the season of light,
                                                                   it was the season of darkness, it was the
                                                                   spring of hope, it was the winter of despair.')  }}">
                                    0047885616465
                                </a>

                            </td>

                            <td>"It was the best of times, it was the worst of times, it was the age of wisdom,
                                it was the age of foolishness, it was the epoch of belief, it was the epoch of
                                incredulity, it was the season of light, it was the season of darkness, it was the
                                spring of hope, it was the winter of despair."</td>
                            <td>"-"</td>
                        </tr>
                        <tr>
                            <td>
                                <a methods="POST"
                                   href="{{ url_for('text_labeling',
                                                    selected_text_id='00000000616465',
                                                    selected_text='Call me Ishmael. Some years ago--never mind how long
                                                                    precisely--having little or no
                                                                    money in my purse, and nothing particular
                                                                    to interest me on shore') }}">
                                    00000000616465
                                </a>
                            </td>
                            <td>"Call me Ishmael. Some years ago--never mind how long precisely--having little or no
                                money in my purse, and nothing particular to interest me on shore"</td>
                            <td>"-"</td>
                        </tr>
                    {% endif %}
                    </tbody>


                </table>
            </div>
        </div>
        <div id="gridBottomRight">
            <div id="summarySection">Summary
                <div id="summarySectionBody">
                    <div id="summarySection1"></div>
                    <div id="summarySection2"></div>
                </div>
            </div>

        </div>
        <div id="divBodyRight"></div>
        <div id="divFooter">last updated 2021-10-11</div>
    </div>
</body>
</html>